<template>
  <div class="page" data-name="help">
    <div class="navbar">
      <div class="navbar-bg"></div>
      <div class="navbar-inner">
          <div class="left">      
              <a href="/" class="link back">
                <i class="icon icon-back"></i>
                <span class="if-not-md">Back</span>
              </a>
            </div>
          <div class="title sliding">Help</div>
          <!-- <div class="right">
            <a href="#" class="link icon-only panel-open" data-panel="right">
              <i class="icon f7-icons if-not-md">person_crop_circle</i>
              <i class="icon material-icons md-only">account_circle</i>
            </a>
          </div> -->
      </div>
      <div class="title-large">
        <div class="title-large-text">Help</div>
      </div>
      <!-- search bar included in header -->
      <div class="subnavbar">
        <div class="searchbar-backdrop"></div>
        <form class="searchbar">
          <div class="searchbar-inner">
            <div class="searchbar-input-wrap">
              <input type="search" placeholder="Search">
              <i class="searchbar-icon"></i>
              <span class="input-clear-button"></span>
            </div>
            <span class="searchbar-disable-button">Cancel</span>
          </div>
        </form>
      </div>
    </div>


    <div class="page-content">
      {{#if userhelp}}
      <div class="block-title">
        {{userhelp.label}}
      </div>
      <div class="block">
        {{userhelp.usercontent}}
      </div>
      {{else}}
      <div class="list links-list">
        <ul>
          {{#each page}}
            <li><a href="/help/{{id}}/">{{label}}</a></li>
          {{/each}}
        </ul>
      </div>
      {{/if}}
    </div>
  </div>
</template>
<script>
  export default {
    data: function () {
      let pages = [
        {
          id: "home",
          label: "Home Page",
          next: [
          {
              id: 'content',
              label: "Content",
              usercontent: "The home page displays all of the content relevant to the learning process of the user. it includes videos, flashcards and websites relevant to the user in order to learn the languages as well as the cultures. User can click on the like button(bottom left of content) to show that they love the content or click on the play buttoon(bottom right of the content) in order to be redirected to the webpage/flshcards as well as the videos. ",
            },
            {
              id: 'video',
              label: "Video",
              usercontent: "Video links in the app teaches users the classroom approach for the users to learn new languages or cultures it will includes contents of classroom teaching as well as short videos about practical uses of words. users can like the videos by clicking the like button(bottom left), comment(bottom middle) or play the video(bottom right). User comments is displayed below the videos.",
            },
            {
              id: 'webpage',
              label: "Webpage",
              usercontent: "Webpage is a link to external website which gives the user an additional reading to learn new culture relevant to their learning languages. users can like the content by clicking the like button(bottom left), comment(bottom middle) or play the video(bottom right). User comments is displayed below the contents.",
            },
            {
              id: 'flashcard',
              label: "Flashcard",
              usercontent: "Flashcard is one of the main source of the app. by clicking the flashcard users will be directed to a word associated with the flashcard as well as the translation of the word to their learning languages.",
            },
          ],
        },
        {
          id: "social",
          label: "Social page",
          next: [
            {
              id: 'socialcontents',
              label: "Contents",
              usercontent: "social page is where users can interact with other users to increase the incentive of learning process. users can post inormations in form of pictures,flashcards, videos or any relevant sources to make the learning process more fun! Users can click the like button, comments or share the post to their friends in the app.",
            },
          ],
        },
        {
          id: "translate",
          label: "Translate Page",
          next: [
            {
              id: 'translatecontents',
              label: "Contents",
              usercontent: "Translate page would help users to have a quick help to communicate with speakers of their target language by providing a quick and reliable translation services. the service include quick reference, image translations as well as option to enable smart translate. In addition users could also generate words based on their situations by toggling on the preferences.",
            },
            {
              id: 'preference',
              label: "Preferences",
              usercontent: "Preferences would allow users to generate a quick sentences which is relevant for their situations. By choosing their preferences, sentences which is build according to the local speaking accent is build in order to create a more positive experience without the awkwardness of a formal languages.",
            },
          ]
        },
        {
          id: "rightslider",
          label: "Your Account",
          next: [
            {
              id: 'myaccount',
              label: "MyAccount",
              usercontent: "By clicking on the person icons on top right, user are able to manage their account with options to change username, update target/learning language as well as changing the settings of the app. Users are able to change their name and profile picture in this panel as well.",
            },
          ],
        },
      ];
      const helpId = this.$route.params.id;
      let userhelp;
      if (helpId) {
        const temp = pages.find(el => el.id === helpId);
        if (!temp) {
          userhelp = pages.map(el => el.next.find(el => el.id === helpId)).find(Boolean);
        }else {
          pages = temp.next;
        }
      }
      return {
        showBack: !!helpId,
        userhelp,
        page: pages,
      };
    }
  };
</script>